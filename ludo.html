<!DOCTYPE html>
<html lang="mg">
<head>
<meta charset="UTF-8">
<title>TradeGasy â€“ Fianarana Trading</title>
<link rel="shortcut icon" href="tÃ©lÃ©chargement.png" type="image/x-icon">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
:root{
  --bg-dark:#020617;
  --bg-light:#f5f7fa;
  --card-dark:#0f172a;
  --card-light:#ffffff;
  --text-dark:#ffffff;
  --text-light:#000000;
}

body{
  background: radial-gradient(circle at top,#0b1d2a,#333131);
  color:var(--text-dark);
  font-family:Segoe UI;
  transition:0.4s;
}

body.light{
  background:var(--bg-light);
  color:var(--text-light);
}

.card{
  background:var(--card-dark);
  border-radius:16px;
  box-shadow:0 0 25px rgba(121, 197, 197, 0.15);
  transition:0.4s;
}

body.light .card{
  background:var(--card-light);
  box-shadow:0 0 15px rgba(0,0,0,.15);
}

select,input{
  background:#020617!important;
  color:white!important;
}

body.light select,
body.light input{
  background:#e9ecef!important;
  color:black!important;
}

h1 span{color:#0dcaf0}
.badge-box span{margin:4px;font-size:14px}

/* CLOCK */
#clock{
  background:linear-gradient(135deg,#0dcaf0,#003049);
  color:white;
  box-shadow:0 0 15px rgba(0,255,255,0.6);
}
</style>
</head>

<body>

<div class="container py-4">

<!-- MODE TOGGLE -->
<div class="text-end mb-2">
<button class="btn btn-outline-info btn-sm" onclick="toggleTheme()">â˜€ï¸ / ğŸŒ™</button>
</div>

<h1 class="text-center mb-2">ğŸ“ˆ <span>TradeGasy</span> â€“ Mianatra Trading</h1>

<!-- CLOCK -->
<div class="text-center mb-4">
  <div id="clock" class="px-4 py-2 d-inline-block rounded">
    <div id="time" style="font-size:2rem;font-weight:bold;"></div>
    <div id="date" style="font-size:0.9rem;opacity:0.85;"></div>
  </div>
</div>

<!-- STATS -->
<div class="row mb-4">
  <div class="col-md-4">
    <div class="card p-3 text-center">
      <h6>ğŸ’° Vola</h6><h2 id="balance">1000 $</h2>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card p-3 text-center">
      <h6>â­ Haavo</h6><h2 id="level">Vao Manomboka</h2>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card p-3 text-center badge-box">
      <h6>ğŸ† Mari-boninahitra</h6><span id="badges">â€”</span>
    </div>
  </div>
</div>

<!-- MARKET -->
<div class="card p-3 mb-3">
<h5>ğŸ’¹ Safidio ny tsena</h5>
<select class="form-select" id="market" onchange="changeMarket()">
<option value="BINANCE:BTCUSDT">Crypto â€“ BTC/USDT</option>
<option value="FX:EURUSD">Forex â€“ EUR/USD</option>
<option value="NASDAQ:AAPL">Action â€“ Apple</option>
<option value="NASDAQ:TSLA">Action â€“ Tesla</option>
</select>
</div>

<!-- GRAPH -->
<div class="card p-3 mb-4">
<h5>ğŸ“Š Grafika ara-potoana</h5>
<div id="tv"></div>
</div>

<!-- TRADING -->
<div class="card p-4 mb-4">
<h5>ğŸ§ª Trading Simulation (Tena izy)</h5>
<label>Vola ampidirina ($)</label>
<input type="number" id="amount" class="form-control mb-3" value="50">

<div class="d-flex gap-3">
<button class="btn btn-success w-50" onclick="trade()">BUY</button>
<button class="btn btn-danger w-50" onclick="trade()">SELL</button>
</div>

<p class="mt-3" id="result"></p>
</div>

<!-- EDUCATION -->
<div class="card p-4">
<h5>ğŸ“š Fampianarana Trading</h5>
<ul>
<li>ğŸ“Œ 40â€“50% ihany no mandresy</li>
<li>ğŸ“Œ Misy spread & fees</li>
<li>ğŸ“Œ Aza atao vola tena izy raha tsy efa mahay</li>
<li>ğŸ“Œ Practice aloha</li>
</ul>
</div>

</div>

<script src="https://s3.tradingview.com/tv.js"></script>

<script>
/* CLOCK */
function updateClock(){
  const now=new Date();
  time.innerText=now.toLocaleTimeString("fr-FR");
  date.innerText=now.toLocaleDateString("mg-MG",{weekday:"long",year:"numeric",month:"long",day:"numeric"});
}
setInterval(updateClock,1000);
updateClock();

/* THEME */
function toggleTheme(){
  document.body.classList.toggle("light");
}

/* TRADING */
let balance=1000,xp=0,badges=[],winRate=0.45,spread=0.02;
balanceEl();

let widget;
function createChart(symbol){
  if(widget) widget.remove();
  widget=new TradingView.widget({
    container_id:"tv",
    width:"100%",
    height:400,
    symbol:symbol,
    interval:"15",
    theme:"dark"
  });
}
createChart("BINANCE:BTCUSDT");

function changeMarket(){
  createChart(market.value);
}

function trade(){
  let amt=Number(amount.value);
  if(amt<=0||amt>balance) return alert("Vola tsy ampy");

  let win=Math.random()<winRate;
  let pnl;

  if(win){
    pnl=amt*(0.05+Math.random()*0.08);
    balance+=pnl-(amt*spread);
    xp+=10;
    result.innerText="âœ… Nandresy : +"+pnl.toFixed(2)+"$";
  }else{
    pnl=amt*(0.08+Math.random()*0.12);
    balance-=pnl;
    xp+=4;
    result.innerText="âŒ Resy : -"+pnl.toFixed(2)+"$";
  }
  balanceEl();levelSystem();
}

function balanceEl(){
  balanceEl=document.getElementById("balance");
  balanceEl.innerText=balance.toFixed(2)+" $";
}

function levelSystem(){
  let lvl="Vao Manomboka";
  if(xp>60) lvl="Trader Miasa";
  if(xp>150) lvl="Trader Pro";
  level.innerText=lvl;

  if(xp>30&&!badges.includes("ğŸ– DÃ©butant"))badges.push("ğŸ– DÃ©butant");
  if(xp>90&&!badges.includes("ğŸ¥ˆ Miasa"))badges.push("ğŸ¥ˆ Miasa");
  if(xp>180&&!badges.includes("ğŸ¥‡ Pro"))badges.push("ğŸ¥‡ Pro");

  badgesEl.innerText=badges.join(" ");
}
</script>

</body>
</html>
